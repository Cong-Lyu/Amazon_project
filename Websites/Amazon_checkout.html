<!DOCTYPE html>
<html>
  <head>
    <title>
      Checkout
    </title>
    <link rel="stylesheet" href="../Styles/checkout_website_header.css">
    <link rel="stylesheet" href="../Styles/checkout_website_cart.css">
    <style>
      
    </style>
  </head>
  <body style="height: 6000px; padding-top: 120px;">
    <div class="header">
      <img class="amazon-logo-checkout" src="../Images/icon-image/amazon-logo-checkout.jpg">
      <p class="checkout-header-title">
        Checkout (<a class="items-anchor" href="./Amazon_products.html">8 items</a>)
      </p>
      <img class="ckeckoutPage-lock-icon" src="../Images/icon-image/checkout-lock-icon.jpg">
    </div>

    <div class="ckeckout-content">
      
      <div class="checkout-content-container">
        <div class="cart-items-content">
          
        </div>

        <div class="cart-summary-content">
          <p class="cart-summary-title">Order Summary</p>
          <div class="cart-summary-item">
            <p class="cart-summary-item-name">Items (8):</p>
            <p class="cart-summary-item-price">$107.02</p>
          </div>
          <div class="cart-summary-item">
            <p class="cart-summary-item-name">Shipping & handling:</p>
            <p class="cart-summary-item-price">$4.99</p>
          </div>
          <div class="cart-summary-item">
            <p class="cart-summary-item-name">Total before tax:</p>
            <p class="cart-summary-item-price">$112.01</p>
          </div>
          <div class="cart-summary-item cart-summary-last-item">
            <p class="cart-summary-item-name">Estimated tax (10%):</p>
            <p class="cart-summary-item-price">$11.20</p>
          </div>
          <div class="cart-summary-item cart-summary-total-item">
            <p class="cart-summary-item-name">Order total:</p>
            <p class="cart-summary-item-price">$123.21</p>
          </div>
          <button class="cart-place-order-button">Place your order</button>
        </div>
      </div>
    </div>
    <script type="module">
      import dayjs from 'https://unpkg.com/dayjs@1.11.13/esm/index.js';
      import {products} from '../Scripts/products.js';
      import {cart} from '../Scripts/cart.js'
      
      let cartItemsHTML = `<p class="checkout-prompt">Review your order</p>`;
      const cartItemsContent = document.querySelector('.cart-items-content');
      cart.forEach((item, index) => {
        const targetProduct = products.find(target => target.productId === item.productId);
        cartItemsHTML += `
        <div class="cart-item-container">
          <div class="cart-item-info-container">
            <img class="cart-item-img" src="../Images/products-image/${targetProduct.productImageName}.jpg">
            <div class="cart-product-info">
              <p class="cart-product-description">
                ${targetProduct.productName}
              </p>
              <p class="cart-product-price">
                $${String((targetProduct.productPriceCents / 100).toFixed(2))}
              </p>
              <div class="cart-product-quantity-and-buttons">
                <p class="cart-product-quantity">
                  Quantity: ${item.productQuantity}
                </p>
                <button class="cart-product-update-button  cart-product-behave">
                  Update
                </button>
                <button class="cart-product-delete-button  cart-product-behave">
                  Delete
                </button>
              </div>
            </div>
            
            <div class="cart-products-delivery-description">
              <p class="cart-delivery-prompt">Choose a delivery option</p>
              
              <div class="cart-delivery-options-container">
                <input class="cart-delivery-option-selector" name="a1" type="radio">
                
                <div class="cart-deliver-arrival-date">
                  <p class="cart-delivery-date">
                    ${dayjs().add(7, 'day')}
                  </p>
                  
                  <p class="cart-delivery-shipping-description">
                    FREE Shipping
                  </p>
                </div>
              </div>

              <div class="cart-delivery-options-container">
                <input class="cart-delivery-option-selector" name="a1" type="radio">
                
                <div class="cart-deliver-arrival-date">
                  <p class="cart-delivery-date">
                    ${dayjs().add(4, 'day')}
                  </p>
                  
                  <p class="cart-delivery-shipping-description">
                    $4.99 - Shipping
                  </p>
                </div>
              </div>

              <div class="cart-delivery-options-container">
                <input class="cart-delivery-option-selector" name="a1" type="radio">
                
                <div class="cart-deliver-arrival-date">
                  <p class="cart-delivery-date">
                    ${dayjs().add(1, 'day')}
                  </p>
                  
                  <p class="cart-delivery-shipping-description">
                    $9.99 - Shipping
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>`
      })
      console.log(cartItemsHTML);
      cartItemsContent.innerHTML = cartItemsHTML;
    </script>
  </body>
</html>